# ç»è¥åˆ†æAPPç ”å‘æ–¹æ¡ˆä¸è“å›¾

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: æ™ºèƒ½ç»è¥åˆ†æAPP  
**é¡¹ç›®å®šä½**: åŸºäºAIé©±åŠ¨çš„ä¼ä¸šç»è¥æ•°æ®åˆ†æå¹³å°  
**æŠ€æœ¯æ¶æ„**: å¾®æœåŠ¡æ¶æ„ + æ•°æ®ä¸­å° + ç§»åŠ¨ç«¯åº”ç”¨  
**å¼€å‘æ¨¡å¼**: AIä¸»å¯¼è®¾è®¡ + å¼€å‘äººå‘˜å®ç°  

## ğŸ¯ ä¸€ã€é¡¹ç›®ç›®æ ‡ä¸ä»·å€¼

### æ ¸å¿ƒç›®æ ‡
- **æ•°æ®é©±åŠ¨å†³ç­–**: å°†ERPæ•°æ®è½¬åŒ–ä¸ºå¯è§†åŒ–çš„ç»è¥æ´å¯Ÿ
- **å®æ—¶ä¸šåŠ¡ç›‘æ§**: æä¾›å®æ—¶çš„ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§å’Œé¢„è­¦
- **æ™ºèƒ½åˆ†æå»ºè®®**: åŸºäºAIç®—æ³•æä¾›ç»è¥ä¼˜åŒ–å»ºè®®
- **ç§»åŠ¨åŒ–åŠå…¬**: éšæ—¶éšåœ°æŸ¥çœ‹ç»è¥æ•°æ®ï¼Œæ”¯æŒç§»åŠ¨ç«¯å†³ç­–

### ä¸šåŠ¡ä»·å€¼
- **æå‡å†³ç­–æ•ˆç‡**: ä»æ•°æ®æ”¶é›†åˆ°å†³ç­–åˆ¶å®šçš„æ—¶é—´ç¼©çŸ­80%
- **é™ä½è¿è¥æˆæœ¬**: é€šè¿‡æ•°æ®æ´å¯Ÿä¼˜åŒ–ä¸šåŠ¡æµç¨‹ï¼Œé™ä½15%è¿è¥æˆæœ¬
- **å¢å¼ºç«äº‰ä¼˜åŠ¿**: åŸºäºæ•°æ®åˆ†æçš„ç²¾å‡†å†³ç­–ï¼Œæå‡å¸‚åœºç«äº‰åŠ›
- **é£é™©é¢„è­¦**: æå‰è¯†åˆ«ä¸šåŠ¡é£é™©ï¼Œå‡å°‘æŸå¤±

## ğŸ—ï¸ äºŒã€ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç§»åŠ¨ç«¯APP     â”‚    â”‚   Webç®¡ç†åå°   â”‚    â”‚   æ•°æ®å¯è§†åŒ–    â”‚
â”‚  (Vue3 + TS)   â”‚    â”‚  (Vue3 + TS)   â”‚    â”‚   (Grafana)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APIç½‘å…³ (Spring Cloud Gateway)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    å¾®æœåŠ¡é›†ç¾¤                           â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚  â”‚ ç”¨æˆ·æœåŠ¡    â”‚  â”‚ æ•°æ®æœåŠ¡    â”‚  â”‚ åˆ†ææœåŠ¡    â”‚    â”‚
    â”‚  â”‚ (è®¤è¯æˆæƒ)  â”‚  â”‚ (æ•°æ®æ²»ç†)  â”‚  â”‚ (AIåˆ†æ)   â”‚    â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚  â”‚ ä»»åŠ¡è°ƒåº¦    â”‚  â”‚ æŠ¥è¡¨æœåŠ¡    â”‚  â”‚ æ¶ˆæ¯æœåŠ¡    â”‚    â”‚
    â”‚  â”‚ (å®šæ—¶ä»»åŠ¡)  â”‚  â”‚ (æŠ¥è¡¨ç”Ÿæˆ)  â”‚  â”‚ (æ¨é€é€šçŸ¥)  â”‚    â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®ä¸­å°                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ æ•°æ®ä»“åº“    â”‚  â”‚ æ•°æ®æ¹–      â”‚  â”‚ å®æ—¶è®¡ç®—    â”‚              â”‚
â”‚  â”‚ (MySQL)    â”‚  â”‚ (HDFS)     â”‚  â”‚ (Flink)    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ç¼“å­˜å±‚      â”‚  â”‚ æœç´¢å¼•æ“    â”‚  â”‚ æ¶ˆæ¯é˜Ÿåˆ—    â”‚              â”‚
â”‚  â”‚ (Redis)    â”‚  â”‚ (ES)       â”‚  â”‚ (RabbitMQ) â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®æº                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ERPç³»ç»Ÿ     â”‚  â”‚ CRMç³»ç»Ÿ     â”‚  â”‚ è´¢åŠ¡ç³»ç»Ÿ    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆé€‰å‹

#### å‰ç«¯æŠ€æœ¯æ ˆ
- **ç§»åŠ¨ç«¯**: Vue3 + TypeScript + Vant4 + Pinia
- **ç®¡ç†åå°**: Vue3 + TypeScript + Element Plus + Pinia
- **æ„å»ºå·¥å…·**: Vite + ESLint + Prettier
- **ç§»åŠ¨ç«¯é€‚é…**: Viewport + Rem + Flexible

#### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Spring Boot 2.5.3 + Spring Cloud 2020.0.3
- **å®‰å…¨**: Spring Security + OAuth2 + JWT
- **æ•°æ®åº“**: MySQL 8.0 + MyBatis Plus 3.4.3
- **ç¼“å­˜**: Redis 6.0 + Redisson
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ 3.8
- **ä»»åŠ¡è°ƒåº¦**: XXL-JOB 2.3.0
- **APIæ–‡æ¡£**: Swagger3 + Knife4j

#### æ•°æ®æŠ€æœ¯æ ˆ
- **æ•°æ®ä»“åº“**: MySQL + ClickHouse
- **æ•°æ®æ¹–**: MinIO + Hadoop HDFS
- **å®æ—¶è®¡ç®—**: Apache Flink 1.13
- **æœç´¢å¼•æ“**: Elasticsearch 7.15
- **æ•°æ®å¯è§†åŒ–**: Grafana + ECharts

#### è¿ç»´æŠ€æœ¯æ ˆ
- **å®¹å™¨åŒ–**: Docker + Kubernetes
- **æœåŠ¡ç½‘æ ¼**: Istio
- **ç›‘æ§**: Prometheus + Grafana + Jaeger
- **æ—¥å¿—**: ELK Stack (Elasticsearch + Logstash + Kibana)
- **CI/CD**: Jenkins + GitLab CI

## ğŸ—„ï¸ ä¸‰ã€æ•°æ®åº“è®¾è®¡

### æ•°æ®åº“æ¶æ„
```
ä¸šåŠ¡æ•°æ®åº“ (MySQL)
â”œâ”€â”€ ç”¨æˆ·æƒé™åº“ (user_db)
â”œâ”€â”€ ä¸šåŠ¡æ•°æ®åº“ (business_db)
â”œâ”€â”€ ä»»åŠ¡è°ƒåº¦åº“ (job_db)
â””â”€â”€ æ—¥å¿—æ•°æ®åº“ (log_db)

æ•°æ®ä»“åº“ (ClickHouse)
â”œâ”€â”€ ODSå±‚ (åŸå§‹æ•°æ®å±‚)
â”œâ”€â”€ DWDå±‚ (æ˜ç»†æ•°æ®å±‚)
â”œâ”€â”€ DWSå±‚ (æ±‡æ€»æ•°æ®å±‚)
â””â”€â”€ ADSå±‚ (åº”ç”¨æ•°æ®å±‚)
```

### æ ¸å¿ƒæ•°æ®è¡¨è®¾è®¡

#### 1. ç”¨æˆ·æƒé™ç›¸å…³è¡¨
```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE sys_user (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
    password VARCHAR(100) NOT NULL COMMENT 'å¯†ç ',
    real_name VARCHAR(50) COMMENT 'çœŸå®å§“å',
    phone VARCHAR(20) COMMENT 'æ‰‹æœºå·',
    email VARCHAR(100) COMMENT 'é‚®ç®±',
    avatar VARCHAR(200) COMMENT 'å¤´åƒ',
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€:1å¯ç”¨,0ç¦ç”¨',
    dept_id BIGINT COMMENT 'éƒ¨é—¨ID',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_username (username),
    INDEX idx_dept_id (dept_id)
) COMMENT 'ç”¨æˆ·è¡¨';

-- è§’è‰²è¡¨
CREATE TABLE sys_role (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    role_name VARCHAR(50) NOT NULL COMMENT 'è§’è‰²åç§°',
    role_code VARCHAR(50) NOT NULL UNIQUE COMMENT 'è§’è‰²ç¼–ç ',
    description VARCHAR(200) COMMENT 'è§’è‰²æè¿°',
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€:1å¯ç”¨,0ç¦ç”¨',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) COMMENT 'è§’è‰²è¡¨';

-- æƒé™è¡¨
CREATE TABLE sys_permission (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    parent_id BIGINT DEFAULT 0 COMMENT 'çˆ¶çº§ID',
    permission_name VARCHAR(50) NOT NULL COMMENT 'æƒé™åç§°',
    permission_code VARCHAR(100) NOT NULL COMMENT 'æƒé™ç¼–ç ',
    permission_type TINYINT NOT NULL COMMENT 'æƒé™ç±»å‹:1èœå•,2æŒ‰é’®,3æ¥å£',
    path VARCHAR(200) COMMENT 'è·¯ç”±è·¯å¾„',
    component VARCHAR(200) COMMENT 'ç»„ä»¶è·¯å¾„',
    icon VARCHAR(50) COMMENT 'å›¾æ ‡',
    sort_order INT DEFAULT 0 COMMENT 'æ’åº',
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€:1å¯ç”¨,0ç¦ç”¨',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) COMMENT 'æƒé™è¡¨';
```

#### 2. ä¸šåŠ¡æ•°æ®ç›¸å…³è¡¨
```sql
-- æ•°æ®ç‰ˆæœ¬è¡¨
CREATE TABLE data_version (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    version_code VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç‰ˆæœ¬å·',
    version_name VARCHAR(100) COMMENT 'ç‰ˆæœ¬åç§°',
    data_date DATE NOT NULL COMMENT 'æ•°æ®æ—¥æœŸ',
    status TINYINT DEFAULT 0 COMMENT 'çŠ¶æ€:0ç”Ÿæˆä¸­,1å·²å®Œæˆ,2å¤±è´¥',
    start_time DATETIME COMMENT 'å¼€å§‹æ—¶é—´',
    end_time DATETIME COMMENT 'ç»“æŸæ—¶é—´',
    error_msg TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_version_code (version_code),
    INDEX idx_data_date (data_date)
) COMMENT 'æ•°æ®ç‰ˆæœ¬è¡¨';

-- ä¸šåŠ¡æŒ‡æ ‡é…ç½®è¡¨
CREATE TABLE business_metric_config (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    metric_code VARCHAR(50) NOT NULL UNIQUE COMMENT 'æŒ‡æ ‡ç¼–ç ',
    metric_name VARCHAR(100) NOT NULL COMMENT 'æŒ‡æ ‡åç§°',
    metric_type VARCHAR(20) NOT NULL COMMENT 'æŒ‡æ ‡ç±»å‹:sales,finance,inventory',
    calculation_rule TEXT COMMENT 'è®¡ç®—è§„åˆ™',
    data_source VARCHAR(100) COMMENT 'æ•°æ®æº',
    update_frequency VARCHAR(20) COMMENT 'æ›´æ–°é¢‘ç‡:daily,hourly,realtime',
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€:1å¯ç”¨,0ç¦ç”¨',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) COMMENT 'ä¸šåŠ¡æŒ‡æ ‡é…ç½®è¡¨';

-- å‘˜å·¥ä¸šç»©æ•°æ®è¡¨
CREATE TABLE employee_performance (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    version_id BIGINT NOT NULL COMMENT 'æ•°æ®ç‰ˆæœ¬ID',
    employee_id BIGINT NOT NULL COMMENT 'å‘˜å·¥ID',
    employee_name VARCHAR(50) NOT NULL COMMENT 'å‘˜å·¥å§“å',
    dept_id BIGINT COMMENT 'éƒ¨é—¨ID',
    data_date DATE NOT NULL COMMENT 'æ•°æ®æ—¥æœŸ',
    -- è®¢å•ç›¸å…³æŒ‡æ ‡
    order_amount DECIMAL(15,2) DEFAULT 0 COMMENT 'è®¢å•é‡‘é¢',
    order_count INT DEFAULT 0 COMMENT 'è®¢å•æ•°é‡',
    order_customers INT DEFAULT 0 COMMENT 'è®¢å•å®¢æˆ·æ•°',
    order_products INT DEFAULT 0 COMMENT 'è®¢å•å•†å“æ•°',
    order_quantity INT DEFAULT 0 COMMENT 'è®¢å•å•†å“æ•°é‡',
    -- é”€å”®ç›¸å…³æŒ‡æ ‡
    sales_amount DECIMAL(15,2) DEFAULT 0 COMMENT 'é”€å”®é‡‘é¢',
    sales_count INT DEFAULT 0 COMMENT 'é”€å”®å•æ•°',
    net_sales DECIMAL(15,2) DEFAULT 0 COMMENT 'å‡€é”€å”®é¢',
    sales_profit DECIMAL(15,2) DEFAULT 0 COMMENT 'é”€å”®æ¯›åˆ©',
    profit_rate DECIMAL(5,2) DEFAULT 0 COMMENT 'æ¯›åˆ©ç‡',
    -- é€€è´§ç›¸å…³æŒ‡æ ‡
    return_amount DECIMAL(15,2) DEFAULT 0 COMMENT 'é€€è´§é‡‘é¢',
    return_order_count INT DEFAULT 0 COMMENT 'é€€è´§è®¢å•æ•°',
    return_rate DECIMAL(5,2) DEFAULT 0 COMMENT 'é€€è´§ç‡',
    -- å®¢æˆ·ç›¸å…³æŒ‡æ ‡
    visit_customers INT DEFAULT 0 COMMENT 'æ‹œè®¿å®¢æˆ·æ•°',
    distribution_customers INT DEFAULT 0 COMMENT 'é“ºè´§å®¢æˆ·æ•°',
    purchase_customers INT DEFAULT 0 COMMENT 'è¿›è´§å®¢æˆ·æ•°',
    avg_order_value DECIMAL(10,2) DEFAULT 0 COMMENT 'å®¢å•ä»·',
    -- å•†å“ç›¸å…³æŒ‡æ ‡
    outbound_products INT DEFAULT 0 COMMENT 'å‡ºè´§å•†å“æ•°',
    return_products INT DEFAULT 0 COMMENT 'é€€è´§å•†å“æ•°',
    sales_quantity INT DEFAULT 0 COMMENT 'é”€å”®å•†å“æ•°é‡',
    return_quantity INT DEFAULT 0 COMMENT 'é€€è´§å•†å“æ•°é‡',
    gift_cost DECIMAL(10,2) DEFAULT 0 COMMENT 'èµ å“æˆæœ¬',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_version_employee (version_id, employee_id),
    INDEX idx_data_date (data_date),
    INDEX idx_employee_id (employee_id)
) COMMENT 'å‘˜å·¥ä¸šç»©æ•°æ®è¡¨';
```

#### 3. ä»»åŠ¡è°ƒåº¦ç›¸å…³è¡¨
```sql
-- æ•°æ®åŒæ­¥ä»»åŠ¡è¡¨
CREATE TABLE data_sync_task (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    task_name VARCHAR(100) NOT NULL COMMENT 'ä»»åŠ¡åç§°',
    task_code VARCHAR(50) NOT NULL UNIQUE COMMENT 'ä»»åŠ¡ç¼–ç ',
    task_type VARCHAR(20) NOT NULL COMMENT 'ä»»åŠ¡ç±»å‹:erp_sync,data_calc,report_gen',
    source_system VARCHAR(50) COMMENT 'æºç³»ç»Ÿ',
    target_table VARCHAR(100) COMMENT 'ç›®æ ‡è¡¨',
    sql_script TEXT COMMENT 'SQLè„šæœ¬',
    cron_expression VARCHAR(50) COMMENT 'Cronè¡¨è¾¾å¼',
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€:1å¯ç”¨,0ç¦ç”¨',
    last_exec_time DATETIME COMMENT 'æœ€åæ‰§è¡Œæ—¶é—´',
    next_exec_time DATETIME COMMENT 'ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) COMMENT 'æ•°æ®åŒæ­¥ä»»åŠ¡è¡¨';

-- ä»»åŠ¡æ‰§è¡Œæ—¥å¿—è¡¨
CREATE TABLE task_exec_log (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    task_id BIGINT NOT NULL COMMENT 'ä»»åŠ¡ID',
    exec_id VARCHAR(50) NOT NULL COMMENT 'æ‰§è¡ŒID',
    start_time DATETIME NOT NULL COMMENT 'å¼€å§‹æ—¶é—´',
    end_time DATETIME COMMENT 'ç»“æŸæ—¶é—´',
    exec_status TINYINT NOT NULL COMMENT 'æ‰§è¡ŒçŠ¶æ€:0æ‰§è¡Œä¸­,1æˆåŠŸ,2å¤±è´¥',
    exec_result TEXT COMMENT 'æ‰§è¡Œç»“æœ',
    error_msg TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',
    processed_records INT DEFAULT 0 COMMENT 'å¤„ç†è®°å½•æ•°',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_task_id (task_id),
    INDEX idx_exec_id (exec_id),
    INDEX idx_start_time (start_time)
) COMMENT 'ä»»åŠ¡æ‰§è¡Œæ—¥å¿—è¡¨';
```

## ğŸ”„ å››ã€æ•°æ®æµè½¬è®¾è®¡

### æ•°æ®æµè½¬æ¶æ„
```
ERPç³»ç»Ÿ â†’ æ•°æ®æŠ½å– â†’ æ•°æ®æ¸…æ´— â†’ æ•°æ®è½¬æ¢ â†’ æ•°æ®åŠ è½½ â†’ æ•°æ®ä»“åº“ â†’ æ•°æ®æœåŠ¡ â†’ ç§»åŠ¨ç«¯APP
   â†“         â†“         â†“         â†“         â†“         â†“         â†“         â†“
åŸå§‹æ•°æ®   å¢é‡æŠ½å–   è´¨é‡æ£€æŸ¥   æ ¼å¼è½¬æ¢   æ‰¹é‡åŠ è½½   åˆ†å±‚å­˜å‚¨   APIæ¥å£   å¯è§†åŒ–å±•ç¤º
```

### ETLæ•°æ®å¤„ç†æµç¨‹
1. **æ•°æ®æŠ½å–(Extract)**
   - ä»ERPç³»ç»Ÿå®šæ—¶æŠ½å–ä¸šåŠ¡æ•°æ®
   - æ”¯æŒå…¨é‡å’Œå¢é‡æŠ½å–
   - æ•°æ®æ ¼å¼ï¼šJSON/XML/CSV

2. **æ•°æ®è½¬æ¢(Transform)**
   - æ•°æ®æ¸…æ´—ï¼šå»é‡ã€å»ç©ºã€æ ¼å¼åŒ–
   - æ•°æ®æ ¡éªŒï¼šä¸šåŠ¡è§„åˆ™æ ¡éªŒ
   - æ•°æ®è®¡ç®—ï¼šæŒ‡æ ‡è®¡ç®—ã€æ±‡æ€»ç»Ÿè®¡

3. **æ•°æ®åŠ è½½(Load)**
   - åŠ è½½åˆ°æ•°æ®ä»“åº“
   - ç”Ÿæˆæ•°æ®ç‰ˆæœ¬å·
   - æ›´æ–°æ•°æ®çŠ¶æ€

## ğŸ“¡ äº”ã€APIæ¥å£è®¾è®¡

### æ¥å£è§„èŒƒ
- **åè®®**: HTTPS
- **æ ¼å¼**: RESTful API
- **æ•°æ®æ ¼å¼**: JSON
- **è®¤è¯**: JWT Token
- **ç‰ˆæœ¬æ§åˆ¶**: URLç‰ˆæœ¬æ§åˆ¶ (/api/v1/)

### ç»Ÿä¸€å“åº”æ ¼å¼
```json
{
  "code": 200,
  "message": "success",
  "data": {},
  "timestamp": 1640995200000,
  "traceId": "abc123def456"
}
```

### æ ¸å¿ƒæ¥å£è®¾è®¡
```yaml
# ç”¨æˆ·è®¤è¯æ¥å£
POST /api/v1/auth/login
POST /api/v1/auth/logout
POST /api/v1/auth/refresh

# å‘˜å·¥ä¸šç»©æ¥å£
GET /api/v1/performance/employee/list
GET /api/v1/performance/employee/{id}
GET /api/v1/performance/employee/summary

# æ•°æ®ç‰ˆæœ¬æ¥å£
GET /api/v1/data/version/latest
GET /api/v1/data/version/list
GET /api/v1/data/version/{versionId}

# ä¸šåŠ¡æŒ‡æ ‡æ¥å£
GET /api/v1/metrics/config
GET /api/v1/metrics/data
POST /api/v1/metrics/calculate

## ğŸ“± å…­ã€ç§»åŠ¨ç«¯APPè®¾è®¡

### UI/UXè®¾è®¡åŸåˆ™
- **ç§»åŠ¨ç«¯ä¼˜å…ˆ**: ä¸“ä¸ºç§»åŠ¨è®¾å¤‡è®¾è®¡çš„äº¤äº’ä½“éªŒ
- **æ•°æ®å¯è§†åŒ–**: å›¾è¡¨åŒ–å±•ç¤ºå¤æ‚ä¸šåŠ¡æ•°æ®
- **æ“ä½œç®€åŒ–**: æœ€å°‘ç‚¹å‡»æ¬¡æ•°å®Œæˆæ ¸å¿ƒæ“ä½œ
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸å’Œæ–¹å‘

### é¡µé¢æ¶æ„
```
ä¸»æ¡†æ¶ (MainLayout)
â”œâ”€â”€ åº•éƒ¨å¯¼èˆª (TabBar)
â”‚   â”œâ”€â”€ é¦–é¡µ (HomePage)
â”‚   â”œâ”€â”€ å…³æ³¨ (FocusPage)
â”‚   â”œâ”€â”€ è§£è¯» (ComprehensiveAnalysis)
â”‚   â””â”€â”€ æˆ‘çš„ (ProfilePage)
â”œâ”€â”€ ä¸šåŠ¡é¡µé¢
â”‚   â”œâ”€â”€ å‘˜å·¥ä¸šç»©æ±‡æ€» (EmployeePerformance)
â”‚   â”œâ”€â”€ å‘˜å·¥åˆ†æ (EmployeeAnalysis)
â”‚   â”œâ”€â”€ ä¸šç»©å˜åŒ–åˆ†æ (PerformanceAnalysis)
â”‚   â”œâ”€â”€ å®¢æˆ·åˆ†æ (CustomerAnalysis)
â”‚   â””â”€â”€ å•†å“åˆ†æ (ProductAnalysis)
â””â”€â”€ åŠŸèƒ½ç»„ä»¶
    â”œâ”€â”€ æ—¶é—´é€‰æ‹©å™¨ (DatePicker)
    â”œâ”€â”€ ç­›é€‰å™¨ (FilterSelector)
    â”œâ”€â”€ å›¾è¡¨ç»„ä»¶ (ChartComponents)
    â””â”€â”€ æ•°æ®è¡¨æ ¼ (DataTable)
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 1. é¦–é¡µæ¨¡å—
- **æ•°æ®æ¦‚è§ˆ**: å…³é”®ä¸šç»©æŒ‡æ ‡å¡ç‰‡å±•ç¤º
- **å¿«æ·åŠŸèƒ½**: å¸¸ç”¨åŠŸèƒ½å¿«é€Ÿå…¥å£
- **æ¶ˆæ¯é€šçŸ¥**: é‡è¦ä¸šåŠ¡æé†’å’Œé¢„è­¦
- **æœç´¢åŠŸèƒ½**: å…¨å±€æœç´¢ä¸šåŠ¡æ•°æ®

#### 2. ç»¼åˆè§£è¯»æ¨¡å—
- **åŒç»´åº¦æ ‡ç­¾**: å¯¹è±¡æ ‡ç­¾ + æµç¨‹æ ‡ç­¾
- **å¯è§†åŒ–å›¾è¡¨**: è¿›åº¦æ¡ã€è¶‹åŠ¿å›¾ã€å¯¹æ¯”å›¾
- **ç©¿é€åˆ†æ**: å¤šå±‚çº§æ•°æ®ä¸‹é’»
- **æ™ºèƒ½å»ºè®®**: AIé©±åŠ¨çš„ä¸šåŠ¡ä¼˜åŒ–å»ºè®®

#### 3. å‘˜å·¥ä¸šç»©æ¨¡å—
- **ä¸šç»©æ±‡æ€»**: å‘˜å·¥ä¸šç»©æ•°æ®è¡¨æ ¼
- **å¤šç»´ç­›é€‰**: 7ç»´åº¦ç­›é€‰æ¡ä»¶
- **æ’åºåŠŸèƒ½**: æ”¯æŒæ‰€æœ‰å­—æ®µæ’åº
- **è¯¦æƒ…åˆ†æ**: å‘˜å·¥ä¸ªäººä¸šç»©è¯¦æƒ…

#### 4. æ•°æ®åˆ†ææ¨¡å—
- **è¶‹åŠ¿åˆ†æ**: æ—¶é—´åºåˆ—æ•°æ®åˆ†æ
- **å¯¹æ¯”åˆ†æ**: åŒæœŸå¯¹æ¯”ã€ç¯æ¯”åˆ†æ
- **å¼‚å¸¸æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«å¼‚å¸¸æ•°æ®
- **é¢„æµ‹åˆ†æ**: åŸºäºå†å²æ•°æ®çš„è¶‹åŠ¿é¢„æµ‹

## ğŸ”§ ä¸ƒã€åç«¯æœåŠ¡è®¾è®¡

### å¾®æœåŠ¡æ¶æ„
```
APIç½‘å…³ (Gateway Service)
â”œâ”€â”€ ç”¨æˆ·æœåŠ¡ (User Service)
â”‚   â”œâ”€â”€ ç”¨æˆ·è®¤è¯
â”‚   â”œâ”€â”€ æƒé™ç®¡ç†
â”‚   â””â”€â”€ ç»„ç»‡æ¶æ„
â”œâ”€â”€ æ•°æ®æœåŠ¡ (Data Service)
â”‚   â”œâ”€â”€ æ•°æ®åŒæ­¥
â”‚   â”œâ”€â”€ æ•°æ®æ²»ç†
â”‚   â””â”€â”€ æ•°æ®ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ åˆ†ææœåŠ¡ (Analytics Service)
â”‚   â”œâ”€â”€ æŒ‡æ ‡è®¡ç®—
â”‚   â”œâ”€â”€ æŠ¥è¡¨ç”Ÿæˆ
â”‚   â””â”€â”€ AIåˆ†æ
â”œâ”€â”€ ä»»åŠ¡æœåŠ¡ (Job Service)
â”‚   â”œâ”€â”€ ä»»åŠ¡è°ƒåº¦
â”‚   â”œâ”€â”€ ä»»åŠ¡ç›‘æ§
â”‚   â””â”€â”€ æ—¥å¿—ç®¡ç†
â””â”€â”€ æ¶ˆæ¯æœåŠ¡ (Message Service)
    â”œâ”€â”€ æ¨é€é€šçŸ¥
    â”œâ”€â”€ æ¶ˆæ¯é˜Ÿåˆ—
    â””â”€â”€ äº‹ä»¶å¤„ç†
```

### æ•°æ®åŒæ­¥ç­–ç•¥
1. **å®æ—¶åŒæ­¥**: å…³é”®ä¸šåŠ¡æ•°æ®å®æ—¶åŒæ­¥
2. **æ‰¹é‡åŒæ­¥**: å†å²æ•°æ®æ‰¹é‡åŒæ­¥
3. **å¢é‡åŒæ­¥**: å®šæ—¶å¢é‡æ•°æ®åŒæ­¥
4. **å¼‚å¸¸å¤„ç†**: åŒæ­¥å¤±è´¥é‡è¯•æœºåˆ¶

## ğŸ› ï¸ å…«ã€å¼€å‘å·¥å…·ä¸è§„èŒƒ

### å¼€å‘å·¥å…·
- **IDE**: IntelliJ IDEA / VS Code
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitLab
- **é¡¹ç›®ç®¡ç†**: Jira + Confluence
- **APIæµ‹è¯•**: Postman + Swagger
- **æ•°æ®åº“å·¥å…·**: Navicat / DBeaver
- **è®¾è®¡å·¥å…·**: Figma / Sketch

### ä»£ç è§„èŒƒ
- **å‘½åè§„èŒƒ**: é©¼å³°å‘½åæ³•
- **æ³¨é‡Šè§„èŒƒ**: JSDoc / JavaDoc
- **æäº¤è§„èŒƒ**: Conventional Commits
- **åˆ†æ”¯ç­–ç•¥**: Git Flow
- **ä»£ç å®¡æŸ¥**: Merge Request

### æ¥å£è§„èŒƒ
```yaml
# è¯·æ±‚å‚æ•°è§„èŒƒ
{
  "pageNum": 1,           # é¡µç 
  "pageSize": 20,         # é¡µå¤§å°
  "sortField": "createTime", # æ’åºå­—æ®µ
  "sortOrder": "desc",    # æ’åºæ–¹å¼
  "filters": {            # ç­›é€‰æ¡ä»¶
    "startDate": "2024-01-01",
    "endDate": "2024-01-31",
    "employeeIds": [1, 2, 3],
    "deptId": 10
  }
}

# å“åº”æ•°æ®è§„èŒƒ
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 100,
    "list": [...],
    "pageNum": 1,
    "pageSize": 20
  },
  "timestamp": 1640995200000
}
```

## ğŸ“Š ä¹ã€æ•°æ®æ²»ç†æ–¹æ¡ˆ

### æ•°æ®è´¨é‡ç®¡ç†
1. **æ•°æ®æ ¡éªŒ**: ä¸šåŠ¡è§„åˆ™æ ¡éªŒã€æ•°æ®å®Œæ•´æ€§æ£€æŸ¥
2. **æ•°æ®æ¸…æ´—**: å»é‡ã€å»ç©ºã€æ ¼å¼æ ‡å‡†åŒ–
3. **æ•°æ®ç›‘æ§**: æ•°æ®è´¨é‡æŒ‡æ ‡ç›‘æ§
4. **å¼‚å¸¸å¤„ç†**: æ•°æ®å¼‚å¸¸è‡ªåŠ¨å‘Šè­¦å’Œå¤„ç†

### æ•°æ®å®‰å…¨
1. **è®¿é—®æ§åˆ¶**: åŸºäºè§’è‰²çš„æ•°æ®è®¿é—®æ§åˆ¶
2. **æ•°æ®è„±æ•**: æ•æ„Ÿæ•°æ®è„±æ•å¤„ç†
3. **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æ•°æ®è®¿é—®å®¡è®¡
4. **å¤‡ä»½æ¢å¤**: å®šæœŸæ•°æ®å¤‡ä»½å’Œæ¢å¤æµ‹è¯•

## ğŸš€ åã€éƒ¨ç½²ä¸è¿ç»´

### éƒ¨ç½²æ¶æ„
- **å¼€å‘ç¯å¢ƒ**: Docker Compose
- **æµ‹è¯•ç¯å¢ƒ**: Kubernetes + Helm
- **ç”Ÿäº§ç¯å¢ƒ**: Kubernetes + Istio
- **ç›‘æ§ä½“ç³»**: Prometheus + Grafana + Jaeger

### è¿ç»´ç­–ç•¥
1. **è‡ªåŠ¨åŒ–éƒ¨ç½²**: CI/CDæµæ°´çº¿
2. **æœåŠ¡ç›‘æ§**: åº”ç”¨æ€§èƒ½ç›‘æ§(APM)
3. **æ—¥å¿—ç®¡ç†**: é›†ä¸­å¼æ—¥å¿—æ”¶é›†å’Œåˆ†æ
4. **å®¹é‡è§„åˆ’**: åŸºäºä¸šåŠ¡å¢é•¿çš„å®¹é‡é¢„æµ‹

## ğŸ“ˆ åä¸€ã€é¡¹ç›®å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¶æ„æ­å»º (4å‘¨)
- Week 1: æŠ€æœ¯é€‰å‹ç¡®è®¤ã€å¼€å‘ç¯å¢ƒæ­å»º
- Week 2: æ•°æ®åº“è®¾è®¡ã€åŸºç¡€æ¡†æ¶æ­å»º
- Week 3: ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†å¼€å‘
- Week 4: APIç½‘å…³ã€åŸºç¡€æœåŠ¡å¼€å‘

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ (8å‘¨)
- Week 5-6: æ•°æ®åŒæ­¥æœåŠ¡ã€ETLæµç¨‹å¼€å‘
- Week 7-8: å‘˜å·¥ä¸šç»©æ¨¡å—å¼€å‘
- Week 9-10: ç»¼åˆè§£è¯»æ¨¡å—å¼€å‘
- Week 11-12: ç§»åŠ¨ç«¯APPå¼€å‘

### ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½å¼€å‘ (6å‘¨)
- Week 13-14: AIåˆ†ææœåŠ¡å¼€å‘
- Week 15-16: æ•°æ®å¯è§†åŒ–ä¼˜åŒ–
- Week 17-18: æ€§èƒ½ä¼˜åŒ–ã€æµ‹è¯•å®Œå–„

### ç¬¬å››é˜¶æ®µï¼šä¸Šçº¿éƒ¨ç½² (2å‘¨)
- Week 19: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€å‹åŠ›æµ‹è¯•
- Week 20: ç”¨æˆ·åŸ¹è®­ã€æ­£å¼ä¸Šçº¿

## ğŸ’° åäºŒã€æˆæœ¬é¢„ç®—

### äººåŠ›æˆæœ¬
- **é¡¹ç›®ç»ç†**: 1äºº Ã— 20å‘¨ = 20äººå‘¨
- **åç«¯å¼€å‘**: 3äºº Ã— 20å‘¨ = 60äººå‘¨
- **å‰ç«¯å¼€å‘**: 2äºº Ã— 20å‘¨ = 40äººå‘¨
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: 1äºº Ã— 20å‘¨ = 20äººå‘¨
- **è¿ç»´å·¥ç¨‹å¸ˆ**: 1äºº Ã— 20å‘¨ = 20äººå‘¨
- **æ€»è®¡**: 160äººå‘¨

### åŸºç¡€è®¾æ–½æˆæœ¬
- **äº‘æœåŠ¡å™¨**: 10å° Ã— 12ä¸ªæœˆ = 120å°æœˆ
- **æ•°æ®åº“**: RDS + Redis + ES = æœˆè´¹ç”¨çº¦5000å…ƒ
- **CDN + OSS**: æœˆè´¹ç”¨çº¦2000å…ƒ
- **ç›‘æ§å·¥å…·**: æœˆè´¹ç”¨çº¦3000å…ƒ
- **å¹´åº¦æ€»æˆæœ¬**: çº¦12ä¸‡å…ƒ

## ğŸ¯ åä¸‰ã€é£é™©è¯„ä¼°ä¸åº”å¯¹

### æŠ€æœ¯é£é™©
1. **æ•°æ®åŒæ­¥å»¶è¿Ÿ**: å»ºç«‹ç›‘æ§å‘Šè­¦æœºåˆ¶
2. **ç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆ**: æå‰è¿›è¡Œå‹åŠ›æµ‹è¯•
3. **æ•°æ®å®‰å…¨é£é™©**: å»ºç«‹å®Œå–„çš„å®‰å…¨é˜²æŠ¤ä½“ç³»

### ä¸šåŠ¡é£é™©
1. **éœ€æ±‚å˜æ›´**: é‡‡ç”¨æ•æ·å¼€å‘ï¼Œå¿«é€Ÿå“åº”å˜æ›´
2. **ç”¨æˆ·æ¥å—åº¦**: æå‰è¿›è¡Œç”¨æˆ·è°ƒç ”å’ŒåŸå‹éªŒè¯
3. **ç«å“å‹åŠ›**: æŒç»­å…³æ³¨å¸‚åœºåŠ¨æ€ï¼Œå¿«é€Ÿè¿­ä»£

## ğŸ“‹ åå››ã€è´¨é‡ä¿è¯

### æµ‹è¯•ç­–ç•¥
1. **å•å…ƒæµ‹è¯•**: ä»£ç è¦†ç›–ç‡ > 80%
2. **é›†æˆæµ‹è¯•**: æ¥å£æµ‹è¯•ã€æ•°æ®ä¸€è‡´æ€§æµ‹è¯•
3. **æ€§èƒ½æµ‹è¯•**: å¹¶å‘æµ‹è¯•ã€å‹åŠ›æµ‹è¯•
4. **å®‰å…¨æµ‹è¯•**: æ¸—é€æµ‹è¯•ã€æ¼æ´æ‰«æ

### ä»£ç è´¨é‡
1. **ä»£ç å®¡æŸ¥**: å¼ºåˆ¶Code Review
2. **é™æ€åˆ†æ**: SonarQubeä»£ç è´¨é‡æ£€æŸ¥
3. **è‡ªåŠ¨åŒ–æµ‹è¯•**: æŒç»­é›†æˆè‡ªåŠ¨åŒ–æµ‹è¯•
4. **æ–‡æ¡£å®Œå–„**: å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ

## ğŸ“‹ åäº”ã€åŠŸèƒ½æ¸…å•

### (ä¸€) åå°ç®¡ç†ç³»ç»Ÿ

#### 1. åå°ç™»å½•
**åŠŸèƒ½æè¿°**: ç®¡ç†å‘˜ç™»å½•åå°ç³»ç»Ÿï¼Œè¿›è¡Œç³»ç»Ÿç®¡ç†å’Œç›‘æ§
- **ç™»å½•è®¤è¯**: ç”¨æˆ·åå¯†ç ç™»å½• + éªŒè¯ç 
- **æƒé™éªŒè¯**: åŸºäºRBACçš„æƒé™æ§åˆ¶
- **ä¼šè¯ç®¡ç†**: JWT Token + Redisä¼šè¯å­˜å‚¨
- **å®‰å…¨é˜²æŠ¤**: ç™»å½•å¤±è´¥é”å®šã€IPç™½åå•

**æ¥å£è®¾è®¡**:
```json
POST /api/v1/admin/auth/login
{
  "username": "admin",
  "password": "password123",
  "captcha": "1234",
  "captchaKey": "uuid-key"
}
```

#### 2. æ—¥å¿—ç®¡ç†
**åŠŸèƒ½æè¿°**: è®°å½•å’ŒæŸ¥è¯¢ç³»ç»Ÿæ“ä½œæ—¥å¿—ã€ä»»åŠ¡æ‰§è¡Œæ—¥å¿—
- **æ“ä½œæ—¥å¿—**: è®°å½•ç”¨æˆ·æ“ä½œè¡Œä¸ºã€APIè°ƒç”¨è®°å½•
- **ä»»åŠ¡æ—¥å¿—**: è®°å½•å®šæ—¶ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ã€é”™è¯¯ä¿¡æ¯
- **ç³»ç»Ÿæ—¥å¿—**: è®°å½•ç³»ç»Ÿå¼‚å¸¸ã€æ€§èƒ½æŒ‡æ ‡
- **æ—¥å¿—æŸ¥è¯¢**: æ”¯æŒå¤šæ¡ä»¶æŸ¥è¯¢ã€æ—¥å¿—å¯¼å‡º

**æ ¸å¿ƒåŠŸèƒ½**:
- æ—¥å¿—å®æ—¶æ”¶é›†å’Œå­˜å‚¨
- æ—¥å¿—åˆ†çº§ç®¡ç† (ERROR/WARN/INFO/DEBUG)
- æ—¥å¿—æ£€ç´¢å’Œè¿‡æ»¤
- æ—¥å¿—ç»Ÿè®¡å’Œåˆ†æ
- å¼‚å¸¸æ—¥å¿—å‘Šè­¦

**æ•°æ®è¡¨è®¾è®¡**:
```sql
-- æ“ä½œæ—¥å¿—è¡¨
CREATE TABLE sys_operation_log (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT COMMENT 'æ“ä½œç”¨æˆ·ID',
    username VARCHAR(50) COMMENT 'ç”¨æˆ·å',
    operation VARCHAR(100) COMMENT 'æ“ä½œå†…å®¹',
    method VARCHAR(10) COMMENT 'è¯·æ±‚æ–¹æ³•',
    url VARCHAR(200) COMMENT 'è¯·æ±‚URL',
    ip VARCHAR(50) COMMENT 'IPåœ°å€',
    user_agent VARCHAR(500) COMMENT 'ç”¨æˆ·ä»£ç†',
    request_params TEXT COMMENT 'è¯·æ±‚å‚æ•°',
    response_data TEXT COMMENT 'å“åº”æ•°æ®',
    exec_time INT COMMENT 'æ‰§è¡Œæ—¶é—´(ms)',
    status TINYINT COMMENT 'çŠ¶æ€:1æˆåŠŸ,0å¤±è´¥',
    error_msg TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_user_id (user_id),
    INDEX idx_create_time (create_time),
    INDEX idx_status (status)
) COMMENT 'æ“ä½œæ—¥å¿—è¡¨';
```

#### 3. ä»»åŠ¡è°ƒåº¦
**åŠŸèƒ½æè¿°**: ç®¡ç†å’Œç›‘æ§å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œ
- **ä»»åŠ¡åˆ—è¡¨**: æ˜¾ç¤ºæ‰€æœ‰å®šæ—¶ä»»åŠ¡åŠå…¶çŠ¶æ€
- **ä»»åŠ¡é…ç½®**: æ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤å®šæ—¶ä»»åŠ¡
- **ä»»åŠ¡ç›‘æ§**: å®æ—¶ç›‘æ§ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- **ä»»åŠ¡æ—¥å¿—**: æŸ¥çœ‹ä»»åŠ¡æ‰§è¡Œå†å²å’Œæ—¥å¿—

**æ ¸å¿ƒåŠŸèƒ½**:
- ä»»åŠ¡CRUDæ“ä½œ
- Cronè¡¨è¾¾å¼é…ç½®
- ä»»åŠ¡å¯åŠ¨/åœæ­¢/é‡å¯
- ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ç›‘æ§
- ä»»åŠ¡å¤±è´¥é‡è¯•æœºåˆ¶
- ä»»åŠ¡æ‰§è¡Œç»Ÿè®¡æŠ¥è¡¨

**æ¥å£è®¾è®¡**:
```json
GET /api/v1/admin/job/list
POST /api/v1/admin/job/create
PUT /api/v1/admin/job/{id}/update
DELETE /api/v1/admin/job/{id}
POST /api/v1/admin/job/{id}/start
POST /api/v1/admin/job/{id}/stop
GET /api/v1/admin/job/{id}/logs
```

#### 4. ä¸šåŠ¡æ•°æ®ä»»åŠ¡
**åŠŸèƒ½æè¿°**: æ ¹æ®ç§»åŠ¨ç«¯ä¸šåŠ¡æŠ¥è¡¨éœ€æ±‚ï¼Œç¼–å†™ä¸šåŠ¡æ•°æ®å½’é›†ä»»åŠ¡
- **æ•°æ®å½’é›†**: ä»ERPç³»ç»ŸæŠ½å–ä¸šåŠ¡æ•°æ®
- **æ•°æ®å¤„ç†**: æ•°æ®æ¸…æ´—ã€è½¬æ¢ã€è®¡ç®—
- **ç‰ˆæœ¬ç®¡ç†**: ç”Ÿæˆæ•°æ®ç‰ˆæœ¬å·ï¼Œæ”¯æŒç‰ˆæœ¬å›æ»š
- **å¼‚å¸¸å¤„ç†**: æ•°æ®å¼‚å¸¸æ£€æµ‹å’Œå¤„ç†

**æ ¸å¿ƒä»»åŠ¡ç±»å‹**:
1. **å‘˜å·¥ä¸šç»©æ•°æ®å½’é›†ä»»åŠ¡**
   - ä»ERPæŠ½å–é”€å”®è®¢å•æ•°æ®
   - è®¡ç®—å‘˜å·¥ä¸šç»©æŒ‡æ ‡
   - ç”Ÿæˆå‘˜å·¥ä¸šç»©æ±‡æ€»æ•°æ®

2. **å®¢æˆ·æ•°æ®å½’é›†ä»»åŠ¡**
   - æŠ½å–å®¢æˆ·åŸºç¡€ä¿¡æ¯
   - è®¡ç®—å®¢æˆ·ä»·å€¼æŒ‡æ ‡
   - ç”Ÿæˆå®¢æˆ·åˆ†ææ•°æ®

3. **å•†å“æ•°æ®å½’é›†ä»»åŠ¡**
   - æŠ½å–å•†å“é”€å”®æ•°æ®
   - è®¡ç®—å•†å“é”€å”®æŒ‡æ ‡
   - ç”Ÿæˆå•†å“åˆ†ææ•°æ®

**æ•°æ®ç‰ˆæœ¬æœºåˆ¶**:
- æ¯æ¬¡ä»»åŠ¡æ‰§è¡Œç”Ÿæˆå”¯ä¸€ç‰ˆæœ¬å·
- ç‰ˆæœ¬å·æ ¼å¼: YYYYMMDD_HHMMSS_åºå·
- ç§»åŠ¨ç«¯æ ¹æ®ç‰ˆæœ¬å·æŸ¥è¯¢å¯¹åº”æ•°æ®
- æ”¯æŒç‰ˆæœ¬å¯¹æ¯”å’Œå›æ»š

### (äºŒ) ç§»åŠ¨ç«¯APP

#### 1. ç”¨æˆ·è®¤è¯æ¨¡å—
- **ç™»å½•åŠŸèƒ½**: ç”¨æˆ·åå¯†ç ç™»å½•
- **è‡ªåŠ¨ç™»å½•**: è®°ä½å¯†ç ã€æŒ‡çº¹/é¢éƒ¨è¯†åˆ«
- **é€€å‡ºç™»å½•**: æ¸…é™¤æœ¬åœ°ç¼“å­˜å’ŒToken
- **å¯†ç ç®¡ç†**: ä¿®æ”¹å¯†ç ã€å¿˜è®°å¯†ç 

#### 2. é¦–é¡µæ¨¡å—
- **æ•°æ®æ¦‚è§ˆ**: æ ¸å¿ƒKPIæŒ‡æ ‡å±•ç¤º
- **å¿«æ·å…¥å£**: å¸¸ç”¨åŠŸèƒ½å¿«é€Ÿè®¿é—®
- **æ¶ˆæ¯ä¸­å¿ƒ**: ç³»ç»Ÿé€šçŸ¥ã€ä¸šåŠ¡æé†’
- **æœç´¢åŠŸèƒ½**: å…¨å±€æ•°æ®æœç´¢

#### 3. å…³æ³¨æ¨¡å—
- **è‡ªå®šä¹‰å…³æ³¨**: ç”¨æˆ·å¯å…³æ³¨ç‰¹å®šå‘˜å·¥ã€éƒ¨é—¨ã€å•†å“
- **å…³æ³¨åˆ—è¡¨**: æ˜¾ç¤ºå…³æ³¨å¯¹è±¡çš„æ ¸å¿ƒæŒ‡æ ‡
- **å˜åŒ–æé†’**: å…³æ³¨å¯¹è±¡æ•°æ®å¼‚å¸¸å˜åŒ–æé†’
- **å¿«é€Ÿåˆ†æ**: ä¸€é”®è¿›å…¥å…³æ³¨å¯¹è±¡è¯¦ç»†åˆ†æ

#### 4. ç»¼åˆè§£è¯»æ¨¡å—
- **åŒç»´åº¦åˆ†æ**: å¯¹è±¡ç»´åº¦ + æµç¨‹ç»´åº¦
- **å¯è§†åŒ–å±•ç¤º**: å¤šç§å›¾è¡¨ç±»å‹å±•ç¤º
- **æ™ºèƒ½è§£è¯»**: AIé©±åŠ¨çš„æ•°æ®è§£è¯»å’Œå»ºè®®
- **ç©¿é€åˆ†æ**: æ”¯æŒæ•°æ®ä¸‹é’»å’Œä¸Šå·

#### 5. å‘˜å·¥ä¸šç»©æ¨¡å—
- **ä¸šç»©æ±‡æ€»**: å‘˜å·¥ä¸šç»©æ•°æ®è¡¨æ ¼å±•ç¤º
- **å¤šç»´ç­›é€‰**: 7ä¸ªç»´åº¦çš„ç­›é€‰åŠŸèƒ½
- **æ’åºåŠŸèƒ½**: æ”¯æŒæ‰€æœ‰å­—æ®µæ­£åº/å€’åº
- **è¯¦æƒ…åˆ†æ**: å‘˜å·¥ä¸ªäººä¸šç»©è¯¦ç»†åˆ†æ

#### 6. æ•°æ®åˆ†ææ¨¡å—
- **è¶‹åŠ¿åˆ†æ**: æ—¶é—´åºåˆ—æ•°æ®è¶‹åŠ¿å›¾
- **å¯¹æ¯”åˆ†æ**: åŒæœŸå¯¹æ¯”ã€ç¯æ¯”åˆ†æ
- **æ’è¡Œæ¦œ**: å„ç»´åº¦æ•°æ®æ’è¡Œ
- **å¼‚å¸¸ç›‘æ§**: æ•°æ®å¼‚å¸¸è‡ªåŠ¨è¯†åˆ«å’Œæé†’

### (ä¸‰) æ•°æ®æœåŠ¡æ¨¡å—

#### 1. æ•°æ®åŒæ­¥æœåŠ¡
- **ERPæ•°æ®æŠ½å–**: å®šæ—¶ä»ERPç³»ç»ŸæŠ½å–ä¸šåŠ¡æ•°æ®
- **æ•°æ®æ¸…æ´—**: æ•°æ®è´¨é‡æ£€æŸ¥å’Œæ¸…æ´—
- **æ•°æ®è½¬æ¢**: ä¸šåŠ¡æ•°æ®æ ¼å¼è½¬æ¢å’Œæ ‡å‡†åŒ–
- **æ•°æ®åŠ è½½**: æ¸…æ´—åæ•°æ®åŠ è½½åˆ°æ•°æ®ä»“åº“

#### 2. æ•°æ®æ²»ç†æœåŠ¡
- **æ•°æ®è´¨é‡ç›‘æ§**: å®æ—¶ç›‘æ§æ•°æ®è´¨é‡æŒ‡æ ‡
- **æ•°æ®è¡€ç¼˜ç®¡ç†**: è¿½è¸ªæ•°æ®æ¥æºå’Œæµè½¬è·¯å¾„
- **å…ƒæ•°æ®ç®¡ç†**: ç®¡ç†æ•°æ®å­—å…¸å’Œä¸šåŠ¡è§„åˆ™
- **æ•°æ®å®‰å…¨**: æ•°æ®è®¿é—®æ§åˆ¶å’Œè„±æ•å¤„ç†

#### 3. æŒ‡æ ‡è®¡ç®—æœåŠ¡
- **å®æ—¶è®¡ç®—**: åŸºäºFlinkçš„å®æ—¶æŒ‡æ ‡è®¡ç®—
- **æ‰¹é‡è®¡ç®—**: åŸºäºSparkçš„æ‰¹é‡æŒ‡æ ‡è®¡ç®—
- **è‡ªå®šä¹‰æŒ‡æ ‡**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰ä¸šåŠ¡æŒ‡æ ‡
- **æŒ‡æ ‡ç¼“å­˜**: è®¡ç®—ç»“æœç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½

## ğŸ”— åå…­ã€æ•°æ®äº¤äº’è®¾è®¡

### å‰åç«¯æ•°æ®äº¤äº’æµç¨‹

#### 1. ç§»åŠ¨ç«¯æ•°æ®è¯·æ±‚æµç¨‹
```
ç§»åŠ¨ç«¯APP â†’ APIç½‘å…³ â†’ å¾®æœåŠ¡ â†’ æ•°æ®åº“ â†’ è¿”å›æ•°æ® â†’ ç§»åŠ¨ç«¯æ¸²æŸ“
     â†“         â†“        â†“        â†“         â†“         â†“
  å‘èµ·è¯·æ±‚   è·¯ç”±è½¬å‘   ä¸šåŠ¡å¤„ç†   æ•°æ®æŸ¥è¯¢   æ•°æ®å°è£…   ç•Œé¢å±•ç¤º
```

#### 2. æ•°æ®åŒæ­¥æµç¨‹
```
ERPç³»ç»Ÿ â†’ æ•°æ®æŠ½å–æœåŠ¡ â†’ æ•°æ®æ¸…æ´— â†’ æ•°æ®è½¬æ¢ â†’ æ•°æ®ä»“åº“ â†’ ç‰ˆæœ¬ç®¡ç†
   â†“          â†“          â†“        â†“        â†“        â†“
å®šæ—¶è§¦å‘    å¢é‡æŠ½å–    è´¨é‡æ£€æŸ¥   æ ¼å¼è½¬æ¢   æ‰¹é‡åŠ è½½   ç‰ˆæœ¬ç”Ÿæˆ
```

### æ•°æ®ä¼ è¾“å‚æ•°è§„èŒƒ

#### 1. é€šç”¨è¯·æ±‚å‚æ•°
```typescript
interface BaseRequest {
  pageNum?: number;        // é¡µç ï¼Œé»˜è®¤1
  pageSize?: number;       // é¡µå¤§å°ï¼Œé»˜è®¤20
  sortField?: string;      // æ’åºå­—æ®µ
  sortOrder?: 'asc' | 'desc'; // æ’åºæ–¹å¼
  versionId?: string;      // æ•°æ®ç‰ˆæœ¬ID
}

interface FilterParams {
  startDate?: string;      // å¼€å§‹æ—¥æœŸ YYYY-MM-DD
  endDate?: string;        // ç»“æŸæ—¥æœŸ YYYY-MM-DD
  employeeIds?: number[];  // å‘˜å·¥IDåˆ—è¡¨
  deptIds?: number[];      // éƒ¨é—¨IDåˆ—è¡¨
  productIds?: number[];   // å•†å“IDåˆ—è¡¨
  customerIds?: number[]; // å®¢æˆ·IDåˆ—è¡¨
  keyword?: string;        // å…³é”®è¯æœç´¢
}
```

#### 2. å‘˜å·¥ä¸šç»©æŸ¥è¯¢å‚æ•°
```typescript
interface EmployeePerformanceRequest extends BaseRequest {
  filters: {
    startDate: string;     // å¿…å¡«ï¼šå¼€å§‹æ—¥æœŸ
    endDate: string;       // å¿…å¡«ï¼šç»“æŸæ—¥æœŸ
    employeeIds?: number[]; // å‘˜å·¥IDç­›é€‰
    deptIds?: number[];    // éƒ¨é—¨IDç­›é€‰
    minSalesAmount?: number; // æœ€å°é”€å”®é‡‘é¢
    maxSalesAmount?: number; // æœ€å¤§é”€å”®é‡‘é¢
    performanceType?: 'sales' | 'order' | 'customer' | 'product'; // ä¸šç»©ç±»å‹
  };
  groupBy?: 'employee' | 'dept' | 'date'; // åˆ†ç»„æ–¹å¼
  metrics?: string[];      // æŒ‡å®šè¿”å›çš„æŒ‡æ ‡å­—æ®µ
}
```

#### 3. æ•°æ®å“åº”æ ¼å¼
```typescript
interface ApiResponse<T> {
  code: number;           // çŠ¶æ€ç ï¼š200æˆåŠŸï¼Œå…¶ä»–å¤±è´¥
  message: string;        // å“åº”æ¶ˆæ¯
  data: T;               // å“åº”æ•°æ®
  timestamp: number;      // æ—¶é—´æˆ³
  traceId?: string;      // é“¾è·¯è¿½è¸ªID
}

interface PageResponse<T> {
  total: number;         // æ€»è®°å½•æ•°
  list: T[];            // æ•°æ®åˆ—è¡¨
  pageNum: number;       // å½“å‰é¡µç 
  pageSize: number;      // é¡µå¤§å°
  pages: number;         // æ€»é¡µæ•°
}

interface EmployeePerformanceResponse {
  id: number;
  employeeId: number;
  employeeName: string;
  deptName: string;
  dataDate: string;
  versionId: string;
  // è®¢å•æŒ‡æ ‡
  orderAmount: number;
  orderCount: number;
  orderCustomers: number;
  // é”€å”®æŒ‡æ ‡
  salesAmount: number;
  salesCount: number;
  netSales: number;
  salesProfit: number;
  profitRate: number;
  // å®¢æˆ·æŒ‡æ ‡
  visitCustomers: number;
  distributionCustomers: number;
  purchaseCustomers: number;
  avgOrderValue: number;
  // å•†å“æŒ‡æ ‡
  outboundProducts: number;
  salesQuantity: number;
  returnQuantity: number;
  giftCost: number;
}
```

### æ¥å£è§„èŒƒæ ‡å‡†

#### 1. RESTful APIè®¾è®¡åŸåˆ™
- **èµ„æºå¯¼å‘**: URLè¡¨ç¤ºèµ„æºï¼ŒHTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œ
- **æ— çŠ¶æ€**: æ¯ä¸ªè¯·æ±‚åŒ…å«å®Œæ•´ä¿¡æ¯
- **ç»Ÿä¸€æ¥å£**: ç»Ÿä¸€çš„è¯·æ±‚/å“åº”æ ¼å¼
- **åˆ†å±‚ç³»ç»Ÿ**: å®¢æˆ·ç«¯æ— éœ€äº†è§£æœåŠ¡å™¨å†…éƒ¨ç»“æ„

#### 2. URLå‘½åè§„èŒƒ
```
# èµ„æºé›†åˆ
GET /api/v1/employees              # è·å–å‘˜å·¥åˆ—è¡¨
POST /api/v1/employees             # åˆ›å»ºå‘˜å·¥

# å•ä¸ªèµ„æº
GET /api/v1/employees/{id}         # è·å–æŒ‡å®šå‘˜å·¥
PUT /api/v1/employees/{id}         # æ›´æ–°æŒ‡å®šå‘˜å·¥
DELETE /api/v1/employees/{id}      # åˆ é™¤æŒ‡å®šå‘˜å·¥

# å­èµ„æº
GET /api/v1/employees/{id}/performance  # è·å–å‘˜å·¥ä¸šç»©
GET /api/v1/departments/{id}/employees  # è·å–éƒ¨é—¨å‘˜å·¥

# æ“ä½œèµ„æº
POST /api/v1/data/sync             # è§¦å‘æ•°æ®åŒæ­¥
POST /api/v1/reports/generate      # ç”ŸæˆæŠ¥è¡¨
```

#### 3. HTTPçŠ¶æ€ç è§„èŒƒ
```
200 OK          - è¯·æ±‚æˆåŠŸ
201 Created     - èµ„æºåˆ›å»ºæˆåŠŸ
204 No Content  - è¯·æ±‚æˆåŠŸä½†æ— è¿”å›å†…å®¹
400 Bad Request - è¯·æ±‚å‚æ•°é”™è¯¯
401 Unauthorized - æœªæˆæƒ
403 Forbidden   - ç¦æ­¢è®¿é—®
404 Not Found   - èµ„æºä¸å­˜åœ¨
500 Internal Server Error - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
502 Bad Gateway - ç½‘å…³é”™è¯¯
503 Service Unavailable - æœåŠ¡ä¸å¯ç”¨
```

#### 4. é”™è¯¯å“åº”æ ¼å¼
```json
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯",
  "data": null,
  "errors": [
    {
      "field": "startDate",
      "message": "å¼€å§‹æ—¥æœŸä¸èƒ½ä¸ºç©º"
    },
    {
      "field": "endDate",
      "message": "ç»“æŸæ—¥æœŸæ ¼å¼é”™è¯¯"
    }
  ],
  "timestamp": 1640995200000,
  "traceId": "abc123def456"
}
```

## ğŸ”„ åä¸ƒã€æ•°æ®ç»“æ„è®¾è®¡

### 1. å‰ç«¯æ•°æ®æ¨¡å‹
```typescript
// å‘˜å·¥ä¸šç»©æ•°æ®æ¨¡å‹
export interface EmployeePerformance {
  id: number;
  employeeId: number;
  employeeName: string;
  deptName: string;
  dataDate: string;
  versionId: string;

  // è®¢å•ç›¸å…³
  orderMetrics: {
    amount: number;
    count: number;
    customers: number;
    products: number;
    quantity: number;
  };

  // é”€å”®ç›¸å…³
  salesMetrics: {
    amount: number;
    count: number;
    netSales: number;
    profit: number;
    profitRate: number;
  };

  // é€€è´§ç›¸å…³
  returnMetrics: {
    amount: number;
    orderCount: number;
    rate: number;
  };

  // å®¢æˆ·ç›¸å…³
  customerMetrics: {
    visit: number;
    distribution: number;
    purchase: number;
    avgOrderValue: number;
  };

  // å•†å“ç›¸å…³
  productMetrics: {
    outbound: number;
    return: number;
    salesQuantity: number;
    returnQuantity: number;
    giftCost: number;
  };
}

// ç­›é€‰æ¡ä»¶æ•°æ®æ¨¡å‹
export interface FilterCondition {
  dateRange: {
    startDate: string;
    endDate: string;
  };
  employees: {
    ids: number[];
    names: string[];
  };
  departments: {
    ids: number[];
    names: string[];
  };
  performanceRange: {
    minAmount?: number;
    maxAmount?: number;
  };
  sortConfig: {
    field: string;
    order: 'asc' | 'desc';
  };
}
```

### 2. åç«¯æ•°æ®ä¼ è¾“å¯¹è±¡(DTO)
```java
// å‘˜å·¥ä¸šç»©æŸ¥è¯¢è¯·æ±‚DTO
@Data
@ApiModel("å‘˜å·¥ä¸šç»©æŸ¥è¯¢è¯·æ±‚")
public class EmployeePerformanceQueryDTO extends BasePageQuery {

    @ApiModelProperty("å¼€å§‹æ—¥æœŸ")
    @NotNull(message = "å¼€å§‹æ—¥æœŸä¸èƒ½ä¸ºç©º")
    @DateTimeFormat(pattern = "yyyy-MM-dd")
    private LocalDate startDate;

    @ApiModelProperty("ç»“æŸæ—¥æœŸ")
    @NotNull(message = "ç»“æŸæ—¥æœŸä¸èƒ½ä¸ºç©º")
    @DateTimeFormat(pattern = "yyyy-MM-dd")
    private LocalDate endDate;

    @ApiModelProperty("å‘˜å·¥IDåˆ—è¡¨")
    private List<Long> employeeIds;

    @ApiModelProperty("éƒ¨é—¨IDåˆ—è¡¨")
    private List<Long> deptIds;

    @ApiModelProperty("æœ€å°é”€å”®é‡‘é¢")
    private BigDecimal minSalesAmount;

    @ApiModelProperty("æœ€å¤§é”€å”®é‡‘é¢")
    private BigDecimal maxSalesAmount;

    @ApiModelProperty("ä¸šç»©ç±»å‹")
    private String performanceType;

    @ApiModelProperty("åˆ†ç»„æ–¹å¼")
    private String groupBy;

    @ApiModelProperty("æŒ‡æ ‡å­—æ®µ")
    private List<String> metrics;

    @ApiModelProperty("æ•°æ®ç‰ˆæœ¬ID")
    private String versionId;
}

// å‘˜å·¥ä¸šç»©å“åº”DTO
@Data
@ApiModel("å‘˜å·¥ä¸šç»©å“åº”")
public class EmployeePerformanceDTO {

    @ApiModelProperty("ID")
    private Long id;

    @ApiModelProperty("å‘˜å·¥ID")
    private Long employeeId;

    @ApiModelProperty("å‘˜å·¥å§“å")
    private String employeeName;

    @ApiModelProperty("éƒ¨é—¨åç§°")
    private String deptName;

    @ApiModelProperty("æ•°æ®æ—¥æœŸ")
    private String dataDate;

    @ApiModelProperty("ç‰ˆæœ¬ID")
    private String versionId;

    // è®¢å•æŒ‡æ ‡
    @ApiModelProperty("è®¢å•é‡‘é¢")
    private BigDecimal orderAmount;

    @ApiModelProperty("è®¢å•æ•°é‡")
    private Integer orderCount;

    @ApiModelProperty("è®¢å•å®¢æˆ·æ•°")
    private Integer orderCustomers;

    // é”€å”®æŒ‡æ ‡
    @ApiModelProperty("é”€å”®é‡‘é¢")
    private BigDecimal salesAmount;

    @ApiModelProperty("é”€å”®å•æ•°")
    private Integer salesCount;

    @ApiModelProperty("å‡€é”€å”®é¢")
    private BigDecimal netSales;

    @ApiModelProperty("é”€å”®æ¯›åˆ©")
    private BigDecimal salesProfit;

    @ApiModelProperty("æ¯›åˆ©ç‡")
    private BigDecimal profitRate;

    // å®¢æˆ·æŒ‡æ ‡
    @ApiModelProperty("æ‹œè®¿å®¢æˆ·æ•°")
    private Integer visitCustomers;

    @ApiModelProperty("é“ºè´§å®¢æˆ·æ•°")
    private Integer distributionCustomers;

    @ApiModelProperty("è¿›è´§å®¢æˆ·æ•°")
    private Integer purchaseCustomers;

    @ApiModelProperty("å®¢å•ä»·")
    private BigDecimal avgOrderValue;

    // å•†å“æŒ‡æ ‡
    @ApiModelProperty("å‡ºè´§å•†å“æ•°")
    private Integer outboundProducts;

    @ApiModelProperty("é”€å”®å•†å“æ•°é‡")
    private Integer salesQuantity;

    @ApiModelProperty("é€€è´§å•†å“æ•°é‡")
    private Integer returnQuantity;

    @ApiModelProperty("èµ å“æˆæœ¬")
    private BigDecimal giftCost;
}

## ğŸ› ï¸ åå…«ã€å¼€å‘å·¥å…·ä¸ç¯å¢ƒ

### å¼€å‘ç¯å¢ƒé…ç½®

#### 1. å‰ç«¯å¼€å‘ç¯å¢ƒ
```json
{
  "name": "business-analysis-app",
  "version": "1.0.0",
  "scripts": {
    "dev": "vite --mode development",
    "build": "vite build --mode production",
    "preview": "vite preview",
    "lint": "eslint src --ext .vue,.js,.ts",
    "lint:fix": "eslint src --ext .vue,.js,.ts --fix",
    "test": "vitest",
    "test:coverage": "vitest --coverage"
  },
  "dependencies": {
    "vue": "^3.3.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "vant": "^4.6.0",
    "axios": "^1.4.0",
    "echarts": "^5.4.0",
    "dayjs": "^1.11.0"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^4.2.0",
    "typescript": "^5.0.0",
    "eslint": "^8.42.0",
    "prettier": "^2.8.0",
    "vitest": "^0.32.0"
  }
}
```

#### 2. åç«¯å¼€å‘ç¯å¢ƒ
```xml
<!-- pom.xml æ ¸å¿ƒä¾èµ– -->
<dependencies>
    <!-- Spring Boot -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
        <version>2.5.3</version>
    </dependency>

    <!-- Spring Cloud -->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-gateway</artifactId>
        <version>3.0.3</version>
    </dependency>

    <!-- Spring Security -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-security</artifactId>
    </dependency>

    <!-- OAuth2 -->
    <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-oauth2-authorization-server</artifactId>
        <version>0.2.3</version>
    </dependency>

    <!-- MyBatis Plus -->
    <dependency>
        <groupId>com.baomidou</groupId>
        <artifactId>mybatis-plus-boot-starter</artifactId>
        <version>3.4.3</version>
    </dependency>

    <!-- Redis -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-redis</artifactId>
    </dependency>

    <!-- XXL-JOB -->
    <dependency>
        <groupId>com.xuxueli</groupId>
        <artifactId>xxl-job-core</artifactId>
        <version>2.3.0</version>
    </dependency>
</dependencies>
```

### å¼€å‘å·¥å…·æ¨è

#### 1. IDEå’Œç¼–è¾‘å™¨
- **åç«¯å¼€å‘**: IntelliJ IDEA Ultimate
- **å‰ç«¯å¼€å‘**: VS Code + Vueæ’ä»¶
- **æ•°æ®åº“ç®¡ç†**: Navicat Premium / DBeaver
- **APIæµ‹è¯•**: Postman / Insomnia
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitLab / GitHub

#### 2. å¼€å‘è¾…åŠ©å·¥å…·
- **ä»£ç ç”Ÿæˆ**: MyBatis Plus Generator
- **æ¥å£æ–‡æ¡£**: Swagger3 + Knife4j
- **ä»£ç è´¨é‡**: SonarQube + ESLint
- **æ€§èƒ½åˆ†æ**: JProfiler / Chrome DevTools
- **æ—¥å¿—åˆ†æ**: ELK Stack

#### 3. é¡¹ç›®ç®¡ç†å·¥å…·
- **éœ€æ±‚ç®¡ç†**: Jira + Confluence
- **è®¾è®¡åä½œ**: Figma / Sketch
- **æ²Ÿé€šåä½œ**: é’‰é’‰ / ä¼ä¸šå¾®ä¿¡
- **æ–‡æ¡£ç®¡ç†**: GitBook / Notion
- **è¿›åº¦è·Ÿè¸ª**: Ganttå›¾ + ç‡ƒå°½å›¾

## ğŸš€ åä¹ã€éƒ¨ç½²ä¸è¿ç»´æ–¹æ¡ˆ

### éƒ¨ç½²æ¶æ„

#### 1. å¼€å‘ç¯å¢ƒ
```yaml
# docker-compose.yml
version: '3.8'
services:
  # MySQLæ•°æ®åº“
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: business_analysis
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql

  # Redisç¼“å­˜
  redis:
    image: redis:6.0-alpine
    ports:
      - "6379:6379"
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data

  # RabbitMQæ¶ˆæ¯é˜Ÿåˆ—
  rabbitmq:
    image: rabbitmq:3.8-management
    ports:
      - "5672:5672"
      - "15672:15672"
    environment:
      RABBITMQ_DEFAULT_USER: admin
      RABBITMQ_DEFAULT_PASS: admin123

  # Elasticsearch
  elasticsearch:
    image: elasticsearch:7.15.0
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ports:
      - "9200:9200"
    volumes:
      - es_data:/usr/share/elasticsearch/data

volumes:
  mysql_data:
  redis_data:
  es_data:
```

#### 2. ç”Ÿäº§ç¯å¢ƒ (Kubernetes)
```yaml
# namespace.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: business-analysis

---
# configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: business-analysis
data:
  application.yml: |
    spring:
      datasource:
        url: jdbc:mysql://mysql-service:3306/business_analysis
        username: ${DB_USERNAME}
        password: ${DB_PASSWORD}
      redis:
        host: redis-service
        port: 6379
        password: ${REDIS_PASSWORD}

---
# deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: business-analysis-api
  namespace: business-analysis
spec:
  replicas: 3
  selector:
    matchLabels:
      app: business-analysis-api
  template:
    metadata:
      labels:
        app: business-analysis-api
    spec:
      containers:
      - name: api
        image: business-analysis/api:latest
        ports:
        - containerPort: 8080
        env:
        - name: DB_USERNAME
          valueFrom:
            secretKeyRef:
              name: db-secret
              key: username
        - name: DB_PASSWORD
          valueFrom:
            secretKeyRef:
              name: db-secret
              key: password
        resources:
          requests:
            memory: "512Mi"
            cpu: "500m"
          limits:
            memory: "1Gi"
            cpu: "1000m"
        livenessProbe:
          httpGet:
            path: /actuator/health
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /actuator/health
            port: 8080
          initialDelaySeconds: 5
          periodSeconds: 5
```

### ç›‘æ§ä¸å‘Šè­¦

#### 1. åº”ç”¨ç›‘æ§
- **æ€§èƒ½ç›‘æ§**: å“åº”æ—¶é—´ã€ååé‡ã€é”™è¯¯ç‡
- **èµ„æºç›‘æ§**: CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ
- **ä¸šåŠ¡ç›‘æ§**: å…³é”®ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§
- **ç”¨æˆ·ä½“éªŒ**: é¡µé¢åŠ è½½æ—¶é—´ã€æ“ä½œå“åº”æ—¶é—´

#### 2. å‘Šè­¦ç­–ç•¥
```yaml
# prometheuså‘Šè­¦è§„åˆ™
groups:
- name: business-analysis-alerts
  rules:
  - alert: HighErrorRate
    expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.1
    for: 2m
    labels:
      severity: critical
    annotations:
      summary: "High error rate detected"

  - alert: HighResponseTime
    expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 1
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: "High response time detected"

  - alert: DataSyncFailure
    expr: increase(data_sync_failures_total[1h]) > 0
    for: 0m
    labels:
      severity: critical
    annotations:
      summary: "Data sync task failed"

## ğŸ¤– äºŒåã€AIé›†æˆæ–¹æ¡ˆ

### AIé©±åŠ¨å¼€å‘æ¨¡å¼

#### 1. AIè¾…åŠ©éœ€æ±‚åˆ†æ
- **éœ€æ±‚ç†è§£**: AIåˆ†æä¸šåŠ¡éœ€æ±‚ï¼Œç”ŸæˆåŠŸèƒ½è§„æ ¼
- **åŸå‹è®¾è®¡**: AIç”Ÿæˆé¡µé¢åŸå‹å’Œäº¤äº’æµç¨‹
- **æµ‹è¯•ç”¨ä¾‹**: AIç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å’Œæµ‹è¯•æ•°æ®
- **æ–‡æ¡£ç”Ÿæˆ**: AIè‡ªåŠ¨ç”ŸæˆæŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ

#### 2. AIè¾…åŠ©ä»£ç ç”Ÿæˆ
```python
# AIä»£ç ç”Ÿæˆç¤ºä¾‹é…ç½®
ai_code_generation:
  templates:
    - type: "controller"
      pattern: "RESTful API Controller"
      output: "src/main/java/com/company/controller/"
    - type: "service"
      pattern: "Business Service Layer"
      output: "src/main/java/com/company/service/"
    - type: "entity"
      pattern: "JPA Entity Class"
      output: "src/main/java/com/company/entity/"
    - type: "vue-component"
      pattern: "Vue3 Component"
      output: "src/components/"

  rules:
    - "éµå¾ªé¡¹ç›®ç¼–ç è§„èŒƒ"
    - "åŒ…å«å®Œæ•´çš„æ³¨é‡Šå’Œæ–‡æ¡£"
    - "ç”Ÿæˆå¯¹åº”çš„å•å…ƒæµ‹è¯•"
    - "ç¬¦åˆå®‰å…¨ç¼–ç æ ‡å‡†"
```

#### 3. AIä¸šåŠ¡åˆ†æ
- **æ•°æ®æ´å¯Ÿ**: AIåˆ†æä¸šåŠ¡æ•°æ®ï¼Œå‘ç°å¼‚å¸¸å’Œè¶‹åŠ¿
- **æ™ºèƒ½å»ºè®®**: åŸºäºæ•°æ®åˆ†ææä¾›ä¸šåŠ¡ä¼˜åŒ–å»ºè®®
- **é¢„æµ‹åˆ†æ**: ä½¿ç”¨æœºå™¨å­¦ä¹ é¢„æµ‹ä¸šåŠ¡è¶‹åŠ¿
- **è‡ªåŠ¨æŠ¥å‘Š**: AIç”Ÿæˆä¸šåŠ¡åˆ†ææŠ¥å‘Š

### AIæ¨¡å‹é›†æˆ

#### 1. æ•°æ®åˆ†ææ¨¡å‹
```python
# ä¸šç»©é¢„æµ‹æ¨¡å‹
class PerformancePredictionModel:
    def __init__(self):
        self.model = None
        self.features = [
            'historical_sales', 'seasonal_factor',
            'market_trend', 'employee_experience'
        ]

    def train(self, training_data):
        """è®­ç»ƒä¸šç»©é¢„æµ‹æ¨¡å‹"""
        pass

    def predict(self, input_data):
        """é¢„æµ‹å‘˜å·¥ä¸šç»©"""
        pass

    def explain(self, prediction):
        """è§£é‡Šé¢„æµ‹ç»“æœ"""
        pass

# å¼‚å¸¸æ£€æµ‹æ¨¡å‹
class AnomalyDetectionModel:
    def detect_anomalies(self, data):
        """æ£€æµ‹ä¸šåŠ¡æ•°æ®å¼‚å¸¸"""
        pass

    def generate_alerts(self, anomalies):
        """ç”Ÿæˆå¼‚å¸¸å‘Šè­¦"""
        pass
```

#### 2. è‡ªç„¶è¯­è¨€å¤„ç†
- **æ™ºèƒ½é—®ç­”**: ç”¨æˆ·å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢ä¸šåŠ¡æ•°æ®
- **æŠ¥å‘Šç”Ÿæˆ**: AIè‡ªåŠ¨ç”Ÿæˆä¸šåŠ¡åˆ†ææŠ¥å‘Š
- **è¯­éŸ³äº¤äº’**: æ”¯æŒè¯­éŸ³æŸ¥è¯¢å’Œè¯­éŸ³æ’­æŠ¥
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢

## ğŸ“‹ äºŒåä¸€ã€è¯¦ç»†åŠŸèƒ½æ¸…å•

### (ä¸€) åå°ç®¡ç†ç³»ç»Ÿ

#### 1. åå°ç™»å½•
**åŠŸèƒ½æè¿°**: ç”¨äºç®¡ç†å‘˜ç™»å½•åå°ï¼ŒæŸ¥çœ‹æ—¥å¿—ã€ä»»åŠ¡ç­‰å†…å®¹
- **ç™»å½•ç•Œé¢**: ç”¨æˆ·åå¯†ç ç™»å½• + å›¾å½¢éªŒè¯ç 
- **æƒé™éªŒè¯**: éªŒè¯ç”¨æˆ·è§’è‰²å’Œæƒé™
- **ä¼šè¯ç®¡ç†**: ç™»å½•çŠ¶æ€ä¿æŒå’Œè¶…æ—¶å¤„ç†
- **å®‰å…¨æ—¥å¿—**: è®°å½•ç™»å½•è¡Œä¸ºå’Œå¼‚å¸¸å°è¯•

**æŠ€æœ¯å®ç°**:
```java
@RestController
@RequestMapping("/api/v1/admin/auth")
public class AdminAuthController {

    @PostMapping("/login")
    public Result<LoginResponse> login(@RequestBody LoginRequest request) {
        // 1. éªŒè¯ç æ ¡éªŒ
        // 2. ç”¨æˆ·è®¤è¯
        // 3. æƒé™åŠ è½½
        // 4. Tokenç”Ÿæˆ
        // 5. ç™»å½•æ—¥å¿—è®°å½•
    }

    @PostMapping("/logout")
    public Result<Void> logout(@RequestHeader("Authorization") String token) {
        // 1. Tokenå¤±æ•ˆ
        // 2. æ¸…é™¤ç¼“å­˜
        // 3. ç™»å‡ºæ—¥å¿—è®°å½•
    }
}
```

#### 2. æ—¥å¿—ç®¡ç†
**åŠŸèƒ½æè¿°**: è®°å½•æŸ¥è¯¢æ“ä½œæ—¥å¿—ã€ä»»åŠ¡è°ƒåº¦æ—¥å¿—
- **æ“ä½œæ—¥å¿—æŸ¥è¯¢**: æ”¯æŒç”¨æˆ·ã€æ—¶é—´ã€æ“ä½œç±»å‹ç­‰å¤šç»´åº¦æŸ¥è¯¢
- **ä»»åŠ¡æ—¥å¿—æŸ¥è¯¢**: æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ‰§è¡Œå†å²å’ŒçŠ¶æ€
- **ç³»ç»Ÿæ—¥å¿—ç›‘æ§**: å®æ—¶ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- **æ—¥å¿—ç»Ÿè®¡åˆ†æ**: ç”Ÿæˆæ—¥å¿—ç»Ÿè®¡æŠ¥è¡¨å’Œè¶‹åŠ¿åˆ†æ

**æ ¸å¿ƒåŠŸèƒ½**:
- æ—¥å¿—å®æ—¶æ”¶é›† (åŸºäºAOPåˆ‡é¢)
- æ—¥å¿—åˆ†ç±»å­˜å‚¨ (æ“ä½œæ—¥å¿—/ä»»åŠ¡æ—¥å¿—/ç³»ç»Ÿæ—¥å¿—)
- æ—¥å¿—æ£€ç´¢å’Œè¿‡æ»¤ (Elasticsearchå…¨æ–‡æ£€ç´¢)
- æ—¥å¿—å¯è§†åŒ–å±•ç¤º (Kibanaä»ªè¡¨æ¿)
- å¼‚å¸¸æ—¥å¿—å‘Šè­¦ (é‚®ä»¶/çŸ­ä¿¡/é’‰é’‰é€šçŸ¥)

#### 3. ä»»åŠ¡è°ƒåº¦
**åŠŸèƒ½æè¿°**: ç®¡ç†å®šæ—¶ä»»åŠ¡åˆ—è¡¨ï¼Œç›‘æ§ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- **ä»»åŠ¡åˆ—è¡¨ç®¡ç†**: æ˜¾ç¤ºæ‰€æœ‰å®šæ—¶ä»»åŠ¡åŠå…¶é…ç½®ä¿¡æ¯
- **ä»»åŠ¡é…ç½®**: æ”¯æŒCronè¡¨è¾¾å¼é…ç½®ã€ä»»åŠ¡å‚æ•°è®¾ç½®
- **ä»»åŠ¡æ§åˆ¶**: å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€ç«‹å³æ‰§è¡Œä»»åŠ¡
- **ä»»åŠ¡ç›‘æ§**: å®æ—¶æ˜¾ç¤ºä»»åŠ¡æ‰§è¡ŒçŠ¶æ€å’Œè¿›åº¦

**ä»»åŠ¡ç±»å‹**:
1. **æ•°æ®åŒæ­¥ä»»åŠ¡**: ä»ERPç³»ç»ŸåŒæ­¥ä¸šåŠ¡æ•°æ®
2. **æ•°æ®è®¡ç®—ä»»åŠ¡**: è®¡ç®—ä¸šåŠ¡æŒ‡æ ‡å’Œæ±‡æ€»æ•°æ®
3. **æŠ¥è¡¨ç”Ÿæˆä»»åŠ¡**: å®šæ—¶ç”Ÿæˆä¸šåŠ¡æŠ¥è¡¨
4. **æ•°æ®æ¸…ç†ä»»åŠ¡**: æ¸…ç†è¿‡æœŸæ•°æ®å’Œæ—¥å¿—
5. **ç³»ç»Ÿç»´æŠ¤ä»»åŠ¡**: ç³»ç»Ÿå¥åº·æ£€æŸ¥å’Œç»´æŠ¤

**æŠ€æœ¯å®ç°**:
```java
@Component
public class DataSyncJobHandler extends IJobHandler {

    @Override
    public ReturnT<String> execute(String param) throws Exception {
        try {
            // 1. è§£æä»»åŠ¡å‚æ•°
            JobParam jobParam = JSON.parseObject(param, JobParam.class);

            // 2. æ‰§è¡Œæ•°æ®åŒæ­¥
            DataSyncResult result = dataSyncService.syncData(jobParam);

            // 3. ç”Ÿæˆæ•°æ®ç‰ˆæœ¬
            String versionId = dataVersionService.createVersion(result);

            // 4. è®°å½•æ‰§è¡Œæ—¥å¿—
            taskLogService.recordSuccess(jobParam.getTaskId(), result);

            return ReturnT.SUCCESS;
        } catch (Exception e) {
            // è®°å½•å¤±è´¥æ—¥å¿—
            taskLogService.recordFailure(jobParam.getTaskId(), e);
            return new ReturnT<>(ReturnT.FAIL_CODE, e.getMessage());
        }
    }
}
```

#### 4. ä¸šåŠ¡æ•°æ®ä»»åŠ¡
**åŠŸèƒ½æè¿°**: æ ¹æ®ç§»åŠ¨ç«¯ä¸šåŠ¡æŠ¥è¡¨ç¼–å†™ä¸šåŠ¡æ•°æ®å½’é›†ï¼Œé€šè¿‡ä»»åŠ¡è°ƒåº¦ä½œä¸šï¼Œå®šæ—¶è·å–åŠå†™å…¥æ•°æ®

**æ ¸å¿ƒç‰¹æ€§**:
- **ç‰ˆæœ¬æ§åˆ¶**: æ¯ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œç”Ÿæˆæ–°çš„ä¸šåŠ¡æ•°æ®ç‰ˆæœ¬å·
- **æ•°æ®éš”ç¦»**: ç§»åŠ¨ç«¯æŸ¥è¯¢æ—¶æ ¹æ®ä¸šåŠ¡æ•°æ®ç‰ˆæœ¬å·ï¼ŒæŸ¥è¯¢ä¸åŒç‰ˆæœ¬æ•°æ®
- **å¼‚å¸¸ä¿æŠ¤**: åœ¨å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œå¦‚æœæ•°æ®å¼‚å¸¸ï¼Œä¸å½±å“ç§»åŠ¨ç«¯æ­£å¸¸ä½¿ç”¨
- **å›æ»šæœºåˆ¶**: æ”¯æŒæ•°æ®ç‰ˆæœ¬å›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬

**ä»»åŠ¡æ‰§è¡Œæµç¨‹**:
```
1. ä»»åŠ¡è§¦å‘ â†’ 2. æ•°æ®æŠ½å– â†’ 3. æ•°æ®æ¸…æ´— â†’ 4. æ•°æ®è®¡ç®— â†’ 5. æ•°æ®å†™å…¥ â†’ 6. ç‰ˆæœ¬ç”Ÿæˆ
     â†“             â†“             â†“             â†“             â†“             â†“
  å®šæ—¶/æ‰‹åŠ¨      ERPæ¥å£è°ƒç”¨    è´¨é‡æ£€æŸ¥      æŒ‡æ ‡è®¡ç®—      æ•°æ®åº“å†™å…¥    ç‰ˆæœ¬å·ç”Ÿæˆ
```

**æ•°æ®ç‰ˆæœ¬ç®¡ç†**:
```java
@Service
public class DataVersionService {

    public String createVersion(String dataDate, String taskType) {
        // ç”Ÿæˆç‰ˆæœ¬å·: YYYYMMDD_HHMMSS_001
        String versionCode = generateVersionCode(dataDate, taskType);

        DataVersion version = new DataVersion();
        version.setVersionCode(versionCode);
        version.setDataDate(LocalDate.parse(dataDate));
        version.setStatus(DataVersionStatus.PROCESSING);
        version.setStartTime(LocalDateTime.now());

        dataVersionMapper.insert(version);
        return versionCode;
    }

    public void completeVersion(String versionCode, boolean success, String errorMsg) {
        DataVersion version = dataVersionMapper.selectByVersionCode(versionCode);
        version.setStatus(success ? DataVersionStatus.COMPLETED : DataVersionStatus.FAILED);
        version.setEndTime(LocalDateTime.now());
        version.setErrorMsg(errorMsg);

        dataVersionMapper.updateById(version);

        // å¦‚æœæˆåŠŸï¼Œè®¾ç½®ä¸ºå½“å‰æ´»è·ƒç‰ˆæœ¬
        if (success) {
            setActiveVersion(versionCode);
        }
    }
}
```

### (äºŒ) ç§»åŠ¨ç«¯æ ¸å¿ƒåŠŸèƒ½

#### 1. å‘˜å·¥ä¸šç»©æ±‡æ€»
**åŠŸèƒ½æè¿°**: å±•ç¤ºå‘˜å·¥ä¸šç»©æ•°æ®è¡¨æ ¼ï¼Œæ”¯æŒå¤šç»´åº¦ç­›é€‰å’Œæ’åº
- **æ•°æ®å±•ç¤º**: è¡¨æ ¼å½¢å¼å±•ç¤ºå‘˜å·¥ä¸šç»©æ•°æ®
- **7ç»´ç­›é€‰**: å‘˜å·¥ã€éƒ¨é—¨ã€æ—¶é—´ã€é‡‘é¢èŒƒå›´ã€å®¢æˆ·æ•°ã€å•†å“æ•°ã€ä¸šç»©ç±»å‹
- **å…¨å­—æ®µæ’åº**: æ”¯æŒæ‰€æœ‰æ•°æ®å­—æ®µçš„æ­£åº/å€’åºæ’åˆ—
- **æ•°æ®å¯¼å‡º**: æ”¯æŒExcelæ ¼å¼æ•°æ®å¯¼å‡º

**ç­›é€‰ç»´åº¦**:
1. **å‘˜å·¥ç»´åº¦**: æŒ‰å‘˜å·¥å§“åã€å‘˜å·¥IDç­›é€‰
2. **éƒ¨é—¨ç»´åº¦**: æŒ‰éƒ¨é—¨ã€å›¢é˜Ÿç­›é€‰
3. **æ—¶é—´ç»´åº¦**: æŒ‰æ—¥æœŸèŒƒå›´ã€æœˆä»½ã€å­£åº¦ç­›é€‰
4. **é‡‘é¢ç»´åº¦**: æŒ‰é”€å”®é‡‘é¢èŒƒå›´ç­›é€‰
5. **å®¢æˆ·ç»´åº¦**: æŒ‰å®¢æˆ·æ•°é‡èŒƒå›´ç­›é€‰
6. **å•†å“ç»´åº¦**: æŒ‰å•†å“æ•°é‡èŒƒå›´ç­›é€‰
7. **ä¸šç»©ç»´åº¦**: æŒ‰ä¸šç»©ç±»å‹(é”€å”®/è®¢å•/å®¢æˆ·/å•†å“)ç­›é€‰

#### 2. å‘˜å·¥åˆ†æ
**åŠŸèƒ½æè¿°**: å•ä¸ªå‘˜å·¥çš„è¯¦ç»†ä¸šç»©åˆ†æ
- **ä¸ªäººæ¦‚è§ˆ**: å‘˜å·¥åŸºæœ¬ä¿¡æ¯å’Œæ ¸å¿ƒæŒ‡æ ‡
- **è¶‹åŠ¿åˆ†æ**: å‘˜å·¥ä¸šç»©æ—¶é—´è¶‹åŠ¿å›¾
- **å¯¹æ¯”åˆ†æ**: ä¸å›¢é˜Ÿå¹³å‡å€¼ã€å†å²åŒæœŸå¯¹æ¯”
- **è¯¦ç»†æ•°æ®**: å„é¡¹ä¸šç»©æŒ‡æ ‡çš„è¯¦ç»†æ•°æ®

#### 3. ä¸šç»©å˜åŒ–åˆ†æ
**åŠŸèƒ½æè¿°**: åˆ†æä¸šç»©æ•°æ®çš„å˜åŒ–è¶‹åŠ¿å’Œå¼‚å¸¸
- **å˜åŒ–è¶‹åŠ¿**: æ˜¾ç¤ºå…³é”®æŒ‡æ ‡çš„å˜åŒ–è¶‹åŠ¿
- **å¼‚å¸¸æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«å¼‚å¸¸æ•°æ®ç‚¹
- **å½±å“å› ç´ **: åˆ†æå½±å“ä¸šç»©å˜åŒ–çš„å…³é”®å› ç´ 
- **é¢„æµ‹åˆ†æ**: åŸºäºå†å²æ•°æ®é¢„æµ‹æœªæ¥è¶‹åŠ¿

## ğŸ¯ äºŒåäºŒã€é¡¹ç›®æˆåŠŸæ ‡å‡†

### æŠ€æœ¯æŒ‡æ ‡
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.9%ä»¥ä¸Š
- **å“åº”æ—¶é—´**: APIå“åº”æ—¶é—´ < 500ms
- **å¹¶å‘æ”¯æŒ**: æ”¯æŒ1000+å¹¶å‘ç”¨æˆ·
- **æ•°æ®å‡†ç¡®æ€§**: æ•°æ®å‡†ç¡®ç‡ > 99.5%

### ä¸šåŠ¡æŒ‡æ ‡
- **ç”¨æˆ·æ»¡æ„åº¦**: ç”¨æˆ·æ»¡æ„åº¦ > 90%
- **ä½¿ç”¨é¢‘ç‡**: æ—¥æ´»è·ƒç”¨æˆ· > 80%
- **å†³ç­–æ•ˆç‡**: å†³ç­–æ—¶é—´ç¼©çŸ­ > 70%
- **æˆæœ¬èŠ‚çº¦**: è¿è¥æˆæœ¬é™ä½ > 15%

### äº¤ä»˜æ ‡å‡†
- **åŠŸèƒ½å®Œæ•´æ€§**: 100%éœ€æ±‚åŠŸèƒ½å®ç°
- **ä»£ç è´¨é‡**: ä»£ç è¦†ç›–ç‡ > 80%
- **æ–‡æ¡£å®Œæ•´æ€§**: å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ
- **åŸ¹è®­å®Œæˆ**: ç”¨æˆ·åŸ¹è®­å®Œæˆç‡ > 95%

## ğŸ“š äºŒåä¸‰ã€æ€»ç»“ä¸å»ºè®®

### é¡¹ç›®ä¼˜åŠ¿
1. **æŠ€æœ¯å…ˆè¿›**: é‡‡ç”¨ä¸»æµæŠ€æœ¯æ ˆï¼Œæ¶æ„è®¾è®¡åˆç†
2. **AIé©±åŠ¨**: å……åˆ†åˆ©ç”¨AIæŠ€æœ¯æå‡å¼€å‘æ•ˆç‡å’Œäº§å“æ™ºèƒ½åŒ–
3. **æ•°æ®é©±åŠ¨**: å®Œæ•´çš„æ•°æ®æ²»ç†ä½“ç³»ï¼Œä¿è¯æ•°æ®è´¨é‡
4. **ç”¨æˆ·ä½“éªŒ**: ç§»åŠ¨ç«¯ä¼˜å…ˆè®¾è®¡ï¼Œæ“ä½œç®€å•ç›´è§‚
5. **å¯æ‰©å±•æ€§**: å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒä¸šåŠ¡å¿«é€Ÿæ‰©å±•

### å®æ–½å»ºè®®
1. **åˆ†é˜¶æ®µå®æ–½**: æŒ‰ç…§æ—¢å®šè®¡åˆ’åˆ†é˜¶æ®µæ¨è¿›ï¼Œé™ä½é£é™©
2. **æ•æ·å¼€å‘**: é‡‡ç”¨æ•æ·å¼€å‘æ¨¡å¼ï¼Œå¿«é€Ÿå“åº”éœ€æ±‚å˜åŒ–
3. **æŒç»­é›†æˆ**: å»ºç«‹å®Œå–„çš„CI/CDæµæ°´çº¿ï¼Œæå‡äº¤ä»˜æ•ˆç‡
4. **ç”¨æˆ·å‚ä¸**: é‚€è¯·æ ¸å¿ƒç”¨æˆ·å‚ä¸éœ€æ±‚ç¡®è®¤å’Œæµ‹è¯•éªŒæ”¶
5. **æŠ€æœ¯åŸ¹è®­**: å¯¹å¼€å‘å›¢é˜Ÿè¿›è¡ŒæŠ€æœ¯åŸ¹è®­ï¼Œæå‡æŠ€èƒ½æ°´å¹³

### åç»­è§„åˆ’
1. **åŠŸèƒ½æ‰©å±•**: æ ¹æ®ç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–å’Œæ‰©å±•åŠŸèƒ½
2. **æ€§èƒ½ä¼˜åŒ–**: æŒç»­ç›‘æ§å’Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½
3. **AIå‡çº§**: ä¸æ–­å‡çº§AIç®—æ³•ï¼Œæå‡åˆ†æå‡†ç¡®æ€§
4. **ç”Ÿæ€å»ºè®¾**: å»ºè®¾å¼€å‘è€…ç”Ÿæ€ï¼Œæ”¯æŒç¬¬ä¸‰æ–¹é›†æˆ

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**ç¼–å†™æ—¥æœŸ**: 2024å¹´8æœˆ
**æ›´æ–°æ—¥æœŸ**: 2024å¹´8æœˆ
**ç¼–å†™äººå‘˜**: AIåŠ©æ‰‹ + é¡¹ç›®å›¢é˜Ÿ

> æœ¬æ–‡æ¡£ä¸ºç»è¥åˆ†æAPPçš„å®Œæ•´ç ”å‘æ–¹æ¡ˆï¼Œæ¶µç›–äº†ä»éœ€æ±‚åˆ†æåˆ°éƒ¨ç½²ä¸Šçº¿çš„å…¨æµç¨‹è®¾è®¡ã€‚å»ºè®®é¡¹ç›®å›¢é˜Ÿæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´å’Œå®Œå–„å…·ä½“å®æ–½ç»†èŠ‚ã€‚
```
```
```
